<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__0dbb7507efba84507da663b3b20a6120">09bb7507dbba84506c14d8c5ce961921</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"4d9f582d77224e3084bb3cb2cdde95e3","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"4d9f582d77224e3084bb3cb2cdde95e3"}],"goals":[{"name":"primary","trigger_id":"4d9f582d77224e3084bb3cb2cdde95e3","nodes":[{"type":"StartGoal","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"0163547b3670436e8ff2d97b876f910a","name":"Start"},{"type":"TerminateGoal","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records"},"id":"d1c6a2c1d60c4e9e968ea393c5d8a752","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"81ccd4fd22e44ec89f55decee61ed684","name":"NeedIt Type","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"78a2cb66d3ec4de9a9e07cfe605a7cfc","message":{"type":"String","mode":"string","value":"Which type of NeedIt record would you like to view?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    // Return he display value (label) for the needit_type choice\n\n    \n           return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n    \n})()\n"},"id":"f8ab22d75bfb4d25abc2d4d6db599c88","name":"Confirm NeedIt Type","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"68d7ea9c923b4e0287c8d6c1244601b7","name":"NeedIt List","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"657e216b748b466ca9f8c42522be88a5","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"expression_mode":"script","script":"((function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table))","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"((function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for. Order the results by the When needed value.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.orderBy('u_when_needed');\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number, u_when_needed, and \t\t    // short_description values for the NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table))"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"657e216b748b466ca9f8c42522be88a5","fields":["priority","short_description","u_when_needed"],"id":"51db4530edae43e6a880995f97de8ee1","name":"NeedIt Card","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"39651b2d44164a39bef14c99d931b11e","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"0a9c9181b44e4606b253c499f03ddfb4","name":"Search Again","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"DecisionFind more NeedIt records","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"72d38ee0c1a845978dc2a59640471437","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"8cb0be88071c49c7ae3f32e5bc3c56ea","name":"Yes"}],"id":"945517dbd661499792c1ceab185022d9","goal_id":"e10c46c1102741aabfd8f46d01f3ed71"},{"type":"InputPrompt","variable_id":"80339425d8c6446d812e5c9ff54ce1cb","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"9697ede9931d48aa87a01d432e490596","name":"New When Needed Date","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"657e216b748b466ca9f8c42522be88a5","id":"f10979bc2af141e899feb73dd56d5a16","name":"Change When Needed Date","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"657e216b748b466ca9f8c42522be88a5","fields":["u_when_needed"],"id":"82efe72e724e46aea44e1f5b42f4a078","name":"Update NeedIt","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"87b5ebc4aeb34f68a5cfae2eddce7d8b","name":"Update Choice","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"86ae693849794f1ab757087da7dc4f59","message":{"type":"String","mode":"string","value":"Which would you like to update?"},"optional":false,"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"When Needed Date","expression":{"type":"Applicability","mode":"query","value":"update_choice=when_needed_date"},"id":"d8aca5e379504303a7d73102176b5079","name":"When Needed Date"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"update_choice=nothing"},"id":"c317ddb0c627466d9508a240b4fabf70","name":"Nothing"},{"type":"Branch","label":"Short Description","expression":{"type":"Applicability","mode":"query","value":"update_choice=short_description"},"id":"3a4af9cc4b14434788c68756e9243559","name":"Short Description"}],"id":"b712eb7ead974e3fb0128a46342ccbf9","goal_id":"e10c46c1102741aabfd8f46d01f3ed71"},{"type":"InputPrompt","variable_id":"4d4a4515532546fba51d6bcb6e5c4da1","message":{"type":"String","mode":"string","value":"Enter the new Short Description"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":false},"optional":false,"id":"41dfae6a0f2c4f23b6c2ac1a97f43cbb","name":"New Short Description","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"657e216b748b466ca9f8c42522be88a5","id":"809e0e2cb08f40ecb077eac9597dc255","name":"Update Short Description","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"657e216b748b466ca9f8c42522be88a5","fields":["short_description"],"id":"ec469bf6f7384f0a804070570765d176","name":"Updated NeedIt - Short Desc","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"ScriptedAction","script":"(function execute() {\n\t    // Add 1 to the search_count variable\n\t    vaVars.search_count = vaVars.search_count + 1;\n\t})()\n","id":"83295df2c1b744458d2b926d91f5de9b","name":"Update search_count","goal_id":"e10c46c1102741aabfd8f46d01f3ed71","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"less than 3 loops","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.search_count&lt;3)\n    return true;\n})()\n"},"id":"8af152741589419292fb408ddfdfe996","name":"less than 3 loops"},{"type":"Branch","label":"3 or greated","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(va.vaVars.search_count&gt;=3)\n    return true;\n})()\n"},"id":"cbd5018801114af6a298fe1eeac83d47","name":"3 or greated"}],"id":"b1feb623c1074034b66d96b60687fe60","goal_id":"e10c46c1102741aabfd8f46d01f3ed71"}],"edges":[{"type":"Edge","source_node_id":"0a9c9181b44e4606b253c499f03ddfb4","target_node_id":"945517dbd661499792c1ceab185022d9","id":"4ddb0e9950044bd996a5f8df9bf7ec44"},{"type":"Edge","source_node_id":"0163547b3670436e8ff2d97b876f910a","target_node_id":"81ccd4fd22e44ec89f55decee61ed684","id":"951829f048764b7abff8097f8e01cfb8"},{"type":"Edge","source_node_id":"81ccd4fd22e44ec89f55decee61ed684","target_node_id":"f8ab22d75bfb4d25abc2d4d6db599c88","id":"320642c779c244569f06f8a764ec8bd5"},{"type":"Edge","source_node_id":"f8ab22d75bfb4d25abc2d4d6db599c88","target_node_id":"68d7ea9c923b4e0287c8d6c1244601b7","id":"5320137aa7ad41bbbe60f2859e8811cc"},{"type":"Edge","source_node_id":"68d7ea9c923b4e0287c8d6c1244601b7","target_node_id":"51db4530edae43e6a880995f97de8ee1","id":"e0884662cd734959b05c71cb58ae191b"},{"type":"Edge","source_node_id":"945517dbd661499792c1ceab185022d9","target_node_id":"d1c6a2c1d60c4e9e968ea393c5d8a752","branch_id":"72d38ee0c1a845978dc2a59640471437","id":"6364b09179eb495b9c37bc5419a61b41","name":"72d38ee0c1a845978dc2a59640471437"},{"type":"Edge","source_node_id":"9697ede9931d48aa87a01d432e490596","target_node_id":"f10979bc2af141e899feb73dd56d5a16","id":"0ae7c44783114b6ebd5025599a93ea14"},{"type":"Edge","source_node_id":"f10979bc2af141e899feb73dd56d5a16","target_node_id":"82efe72e724e46aea44e1f5b42f4a078","id":"ebf50a39cc0f4e8498085b7df6114e28"},{"type":"Edge","source_node_id":"82efe72e724e46aea44e1f5b42f4a078","target_node_id":"0a9c9181b44e4606b253c499f03ddfb4","id":"b0a8b8e9695c4c83b3518580f5cc7069"},{"type":"Edge","source_node_id":"51db4530edae43e6a880995f97de8ee1","target_node_id":"87b5ebc4aeb34f68a5cfae2eddce7d8b","id":"e0d1a522b28b4d55807eff35a31a322c"},{"type":"Edge","source_node_id":"87b5ebc4aeb34f68a5cfae2eddce7d8b","target_node_id":"b712eb7ead974e3fb0128a46342ccbf9","id":"d782d44374ba437ea1c37851175b41f6"},{"type":"Edge","source_node_id":"b712eb7ead974e3fb0128a46342ccbf9","target_node_id":"9697ede9931d48aa87a01d432e490596","branch_id":"d8aca5e379504303a7d73102176b5079","id":"c052f2adb2774e3085ee81536e898427","name":"d8aca5e379504303a7d73102176b5079"},{"type":"Edge","source_node_id":"b712eb7ead974e3fb0128a46342ccbf9","target_node_id":"0a9c9181b44e4606b253c499f03ddfb4","branch_id":"c317ddb0c627466d9508a240b4fabf70","id":"43867032ca1f46519d3b9cb205271002","name":"c317ddb0c627466d9508a240b4fabf70"},{"type":"Edge","source_node_id":"b712eb7ead974e3fb0128a46342ccbf9","target_node_id":"41dfae6a0f2c4f23b6c2ac1a97f43cbb","branch_id":"3a4af9cc4b14434788c68756e9243559","id":"d18d8ba527cf4694b7d3e565662a6417","name":"3a4af9cc4b14434788c68756e9243559"},{"type":"Edge","source_node_id":"41dfae6a0f2c4f23b6c2ac1a97f43cbb","target_node_id":"809e0e2cb08f40ecb077eac9597dc255","id":"37ff0f966e3746009b40611cb33f46e0"},{"type":"Edge","source_node_id":"809e0e2cb08f40ecb077eac9597dc255","target_node_id":"ec469bf6f7384f0a804070570765d176","id":"6737e6894aa246e1801f1783f710f1d9"},{"type":"Edge","source_node_id":"ec469bf6f7384f0a804070570765d176","target_node_id":"0a9c9181b44e4606b253c499f03ddfb4","id":"26ce1efb2ba04d05b40e732eeb598c56"},{"type":"Edge","source_node_id":"945517dbd661499792c1ceab185022d9","target_node_id":"83295df2c1b744458d2b926d91f5de9b","branch_id":"8cb0be88071c49c7ae3f32e5bc3c56ea","id":"13b818aa540f423a93a8a9db7a5aafc2","name":"8cb0be88071c49c7ae3f32e5bc3c56ea"},{"type":"Edge","source_node_id":"83295df2c1b744458d2b926d91f5de9b","target_node_id":"b1feb623c1074034b66d96b60687fe60","id":"e2c3e72f8bb44dbebea0cf75950c263a"},{"type":"Edge","source_node_id":"b1feb623c1074034b66d96b60687fe60","target_node_id":"81ccd4fd22e44ec89f55decee61ed684","branch_id":"8af152741589419292fb408ddfdfe996","id":"4b704a50345a4c718e3451493e5a5d03","name":"8af152741589419292fb408ddfdfe996"},{"type":"Edge","source_node_id":"b1feb623c1074034b66d96b60687fe60","target_node_id":"d1c6a2c1d60c4e9e968ea393c5d8a752","branch_id":"cbd5018801114af6a298fe1eeac83d47","id":"c67ef8495de1401791a806e41f78e51d","name":"cbd5018801114af6a298fe1eeac83d47"}],"id":"e10c46c1102741aabfd8f46d01f3ed71"}],"script_variables":[{"type":"String","name":"search_count","value":{"type":"String","mode":"string","value":"0"},"id":"ddcd88799c974920b6c0e4e41bac4793"}],"glide_variables":[{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"78a2cb66d3ec4de9a9e07cfe605a7cfc","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"657e216b748b466ca9f8c42522be88a5","name":"needit_list"},{"type":"True/False","id":"39651b2d44164a39bef14c99d931b11e","name":"search_again"},{"type":"Date/Time","mode":"date","id":"80339425d8c6446d812e5c9ff54ce1cb","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"403e558be6aa495c83f74b49bdd9e936","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short Description","element":"short_description"},{"name":"Nothing","element":"nothing"},{"name":"When needed date","element":"when_needed_date"}],"id":"86ae693849794f1ab757087da7dc4f59","name":"update_choice"},{"type":"String","name":"new_short_description","id":"4d4a4515532546fba51d6bcb6e5c4da1"},{"type":"Reference","table":"x_58872_needit_needit","id":"990078573f24494b925a36265b4f24d8","name":"update_short_description"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"2c62118fdbf684506c14d8c5ce961917","id":"8f43d10fdbf684506c14d8c5ce961916","name":"_PRVW__0dbb7507efba84507da663b3b20a6120","key_phrases":["NeedItRequest","need something","Update NeedIt Records","update","NeedIt"],"nlu_provider":"64c023c17300330021a044764df6a70e","nlu_model":"","nlu_intent":"","flexible_conversation_switching":false,"design_category":"5e82d5cfdbf684506c14d8c5ce96192b"}</design_definition>
        <design_topic_id>8f43d10fdbf684506c14d8c5ce961916</design_topic_id>
        <name>_PRVW__0dbb7507efba84507da663b3b20a6120</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-02-10 20:33:22</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>01bb7507dbba84506c14d8c5ce961924</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt xVirtual Agent Conversations" source="x_snc_needit_xvirt">2c62118fdbf684506c14d8c5ce961917</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt xVirtual Agent Conversations">2c62118fdbf684506c14d8c5ce961917</sys_scope>
        <sys_update_name>sys_cb_design_topic_01bb7507dbba84506c14d8c5ce961924</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-02-10 20:33:22</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
